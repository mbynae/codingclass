<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : 슬라이드 이펙트</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/dracula.css">

    <style>
        .t_code {
            margin-bottom: 20px;
        }
        .t_underline {
            text-decoration: underline;
        }
        .t_codeBox {
            display: inline-block;
            border: 1px solid #f5f5f5;
            padding: 5px 10px;
            width: 100%;
            background-color: rgb(252, 213, 155);
            color: #fff;
            border-radius: 5px;
        }
        .t_codeName {
            color : #A1EFE4;
        }



        .mt20 {
            margin-top: 20px !important;
        }
        .mt30 {
            margin-top: 30px !important;
        }
        .mt40 {
            margin-top: 40px !important;
        }
        .mt160 {
            margin-top: 160px !important;
        }
    </style>
</head>
<body>
    <header id="header">
        <h1><a href="../index.html">Javascript</a></h1>
    </header>
    <!-- //header -->
    <main id="main">
        <div class="document">
            <div class="main_top">
                <h2 class="t_tit">슬라이드 이펙트</h2>
                <p class="t_desc2">
                    자바스크립트를 이용한 슬라이드 효과 만들기 입니다.
                </p>

                <hr>

                <h3 class="t_tit2">슬라이드 이펙트 04 - 이미지 슬라이드 버튼</h3>
                <p class="t_box">이미지 내에 있는 버튼을 클릭 시 이미지가 좌/우로 이동하는 슬라이드 효과입니다.</p>  
                <div class="t_iframe" style="min-height: 800px; padding-top: 0; margin-bottom: -120px;">
                    <iframe src="https://mbynae.github.io/coding/javascript/effect/sliderEffect04.html" frameborder="0"></iframe>
                </div>
            </div>
            <!-- //타이틀 -->

            <hr style="margin-top: 180px;">

            <div class="main_content1" style="margin: 50px 0 15px 0;">
                <h4 class="t_tit3" style="font-size: 18px; margin: 25px 0 15px 0;">1. 좌/우 버튼 만들기</h4>
                <p class="t_desc mt20" >
                    클릭 시 이미자가 좌/우로 이동할 수 있도록 좌측과 우측에 각각 버튼을 만들어 줍니다.
                    기본적인 코드는 <a href="https://piowm123.tistory.com/101?category=963321" target="_blank" class="t_underline">슬라이드 이펙트 03</a>와 같으며 버튼이 추가되었습니다.
                </p>
                <div class="t_iframe" style="min-height: 800px; width: 100%; height: 200px; padding-top: 0; margin-bottom: -120px;">
                    <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FyUTTr3pTecOd5f2DVEGodj%2F%25EC%259D%25B4%25ED%258E%2599%25ED%258A%25B8-%25ED%259A%25A8%25EA%25B3%25BC%3Fnode-id%3D1626%253A2" allowfullscreen></iframe>
                </div>
                <div class="t_codeBox mt160">
                    <details>
                        <summary>소스보기</summary>
                        <div class="t_code">
<pre><code class="language-html">-HTML 파트-
&lt;main id="main"&gt;
    &lt;section id="sliderType01" &gt;
        &lt;div class="slider__wrap"&gt;
            &lt;div class="slider__img"&gt;
                &lt;div class="slider__inner"&gt;
                    &lt;div class="slider" role="group" aria-label="1/5"&gt;&lt;img src="../assets/img/effect_bg16-min.jpg" alt="이미지1"&gt;&lt;/div&gt;
                    &lt;div class="slider" role="group" aria-label="2/5"&gt;&lt;img src="../assets/img/effect_bg17-min.jpg" alt="이미지2"&gt;&lt;/div&gt;
                    &lt;div class="slider" role="group" aria-label="3/5"&gt;&lt;img src="../assets/img/effect_bg18-min.jpg" alt="이미지3"&gt;&lt;/div&gt;
                    &lt;div class="slider" role="group" aria-label="4/5"&gt;&lt;img src="../assets/img/effect_bg19-min.jpg" alt="이미지4"&gt;&lt;/div&gt;
                    &lt;div class="slider" role="group" aria-label="5/5"&gt;&lt;img src="../assets/img/effect_bg20-min.jpg" alt="이미지5"&gt;&lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="slider__btn"&gt;
                &lt;a href="#" class="prev" role="button" aria-label="왼쪽 이미지"&gt;prev&lt;/a&gt;
                &lt;a href="#" class="next" role="button" aria-label="오른쪽 이미지"&gt;next&lt;/a&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;
&lt;/main&gt;
</code></pre>
<pre><code class="language-css">-슬라이드 버튼 CSS-
.slider__btn a {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 50px;
    height: 50px;
    background: rgba(0,0,0,0.4);
    text-align: center;
    line-height: 50px;
    transition: all 0.2s;
    display: block;
    color: #fff;
}
.slider__btn a:hover {
    border-radius: 50%;
    background: rgb(173, 81, 27);
}
.slider__btn a.prev {
    left: 20px;
}
.slider__btn a.next {
    right: 20px;
}
</code></pre>
                        </div>
                    </details>
                </div>
            </div>
            <!-- //파트1 -->

            <div center="main_content2"style="margin: 50px 0 15px 0;">
                <h4 class="t_tit2" style="margin: 50px 0 15px 0;">2. 버튼 스크립트</h4>
                <p class="t_desc mt20" >
                    버튼 클릭 시 이미지가 이동하도록 스크립트를 작성합니다.
                </p>
                <div class="t_codeBox">
                    <details>
                        <summary>소스보기</summary>
                        <div class="t_code">
<pre><code class="language-js">-자바스크립트 파트-
const sliderWrap = document.querySelector(".slider__wrap");
const sliderImg = document.querySelector(".slider__img");       //보여지는 영역
const sliderInner = document.querySelector(".slider__inner");   //움직이는 영역
const slider = document.querySelectorAll(".slider");            //각각 이미지
const sliderBtn = document.querySelector(".slider__btn");    //버튼
const sliderBtnPrev = document.querySelector(".prev");       //왼쪽 버튼
const sliderBtnNext = document.querySelector(".next");       //오른쪽 버튼

let currentIndex = 0;                       //현재 이미지
let sliderCount = slider.length;            //이미지 갯수
let sliderWidth = sliderImg.offsetWidth;    //이미지 가로값

//이미지 움직이는 영역
function gotoSlider(num){
    sliderInner.style.transition = "all 400ms";
    sliderInner.style.transform = "translateX("+ -sliderWidth * num + "px)";
    currentIndex = num;
}

//왼쪽 버튼 클릭
sliderBtnPrev.addEventListener("click", () => {
    let prevIndex = currentIndex - 1;
    if(prevIndex == -1){
        prevIndex = 4;
    }
    gotoSlider(prevIndex);
});

//오른쪽 버튼 클릭
sliderBtnNext.addEventListener("click", () => {
    let nextIndex = (currentIndex + 1) % 5;
    gotoSlider(nextIndex);
});
</code></pre>
                        </div>
                    </details>
                </div>
                <p class="t_desc" style="margin-top: 20px !important;">
                    함수로 슬라이드가 현재 이미지 순서를 나타내는 currentIndex와 이미지의 가로값을 나타내는 sliderWidth를 곱해 그 위치의 픽셀만큼 이동하도록 합니다. 
                </p>
                <p class="t_desc" style="margin-top: 20px;">
                    addEventListener( )를 이용해 좌측 버튼을 클릭 시 현재 이미지 순서에 -1를 하고 우측 버튼을 클릭시 +1을 합니다.<br>
                    이 때 카운트 변수인 prevIndex가 -0이 될 때 -1을 더 추가하면 4가 되서 맨 끝 이미지로 이동해야 하기 때문에 if문을 사용해 4가 되도록 합니다.
                </p>
                <p class="t_desc" style="margin-top: 20px;">
                    우측 버튼은 currentIndex + 1을 할 때 0~4의 숫자가 계속 반복하도록 현재 총 이미지 갯수인 5를 나눈 몫을 변수로 만듭니다.
                </p>
            </div>
            <!-- //파트2 -->

            <div center="main_content2"style="margin: 50px 0 15px 0;">
                <h4 class="t_tit2" style="margin: 50px 0 15px 0;">3. 공식 추가</h4>
                <p class="t_desc mt20" >
                    위의 스크립트는 이미를 5개일 경우를 가정하고 작성했지만 이미지의 갯수가 유동적으로 변할 때 자동으로 적용되도록 5 대신 공식으로 바꿔 넣습니다.
                </p>
                <div class="t_codeBox">
                    <details>
                        <summary>소스보기</summary>
                        <div class="t_code">
<pre><code class="language-js">-자바스크립트 버튼-
let sliderCount = slider.length;            //이미지 갯수

//왼쪽 버튼 클릭
sliderBtnPrev.addEventListener("click", () => {
    let prevIndex = (currentIndex + (sliderCount-1)) % sliderCount;
    gotoSlider(prevIndex);
});

//오른쪽 버튼 클릭
sliderBtnNext.addEventListener("click", () => {
    let nextIndex = (currentIndex + 1) % sliderCount;
    gotoSlider(nextIndex);
});
</code></pre>
                        </div>
                    </details>
                </div>
                <p class="t_desc" style="margin-top: 20px !important;">
                    현재 이미지의 순서 수를 5 대신 전체 이미지의 갯수를 나타낸 변수 sliderCount로 나눈 몫으로 변수를 설정하면 이미지의 수가 몇이건 자동으로 적용이 됩니다.
                </p>
                <p class="t_desc" style="margin-top: 20px;">
                    좌측 버튼의 경우 0에서 -1이 아닌 4가 될 수 있도록 현재 이미지 순서 + (전체 이미지 수 - 1)을 전체 이미지 수로 나눈 몫으로 변수를 정해야 합니다.<br>
                    또는 위의 if문에서 prevIndex = sliderCount-1로 바꿔 설정하는 방법도 있습니다. 
                </p>
            </div>
            <!-- //파트3 -->

            <div class="t_link">
                <a href="https://github.com/mbynae/coding/blob/main/javascript/effect/sliderEffect04.html" target="_blank">원본 소스 보기</a>
            </div>
                     
        </div>
    </main>
    <!-- //main -->
    <footer id="footer">
        <a href="mailto:piowm123@gmail.com">piowm123@gmail.com</a>
    </footer>
    <!-- //footer -->
    <script src="../../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
    </script>
</body>
</html>