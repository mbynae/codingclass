<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : 서치 이펙트 01</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/dracula.css">

</head>
<body>
    <header id="header">
        <h1><a href="../index.html">Javascript</a></h1>
        <nav class="header_nav">
            <ul>
                <li><a href="../javascript01.html">데이터 저장하기</a></li>
                <li><a href="../javascript02.html">데이터 불러오기</a></li>
                <li><a href="../javascript03.html">데이터 실행하기</a></li>
                <li><a href="../javascript04.html">데이터 제어하기</a></li>
            </ul>
            <ul>
                <li><a href="../javascript05.html">문자열 객체</a></li>
                <li><a href="../javascript06.html">배열 객체</a></li>
                <li><a href="../javascript07.html">수학 객체</a></li>
                <li><a href="../javascript08.html">숫자 객체</a></li>
                <li><a href="../javascript09.html">브라우저 객체</a></li>
                <li><a href="../javascript10.html">요소 객체</a></li>
                <li><a href="../javascript11.html">이벤트 객체</a></li>                
            </ul>
            <ul class="effect">
                <li><a href="../effect/searchEffect01.html">검색 효과</a></li>
                <li><a href="../effect/quizEffect01.html">퀴즈 효과</a></li>
                <li><a href="../effect/textEffect01.html">텍스트 효과</a></li>
                <li><a href="../effect/mouseEffect01.html">마우스 효과</a></li>
                <li><a href="../effect/sliderEffect01.html">슬라이드 효과</a></li>
                <li><a href="../effect/parallaxEffect01.html">패랠랙스 효과</a></li>
                <li><a href="../effect/gameEffect01.html">게임 효과</a></li>
            </ul>
            <ul class="study">
                <li><a href="basic.html">기본 규칙</a></li>
                <li><a href="calculation.html">연산자</a></li>
                <li><a href="for.html">반복문</a></li>
                <li><a href="if.html">조건문</a></li>             
                <li><a href="type.html">데이터 타입</a></li>  
                <li><a href="function.html">함수</a></li>  
                <li><a href="var.html">지역변수/전역변수</a></li>  
                <li><a href="element.html">요소 선택</a></li>  
                <li><a href="join_push_pop.html">join/push/pop</a></li>  
                <li><a href="slice_substring _substr.html">slice( )/substring( )/substr( )</a></li>  
                <li><a href="indexOf.html">indexOf( )</a></li>  
                <li><a href="regexp.html">정규표현식</a></li>  
                <li><a href="quiz01.html">퀴즈 만들기01</a></li>  
                <li><a href="quiz02.html">퀴즈 만들기02</a></li>  
                <li><a href="quiz03.html">퀴즈 만들기03</a></li>  
                <li><a href="quiz04.html">퀴즈 만들기04</a></li> 
                <li><a href="t_seachEffect01.html">검색효과 만들기01</a></li> 
                <li><a href="t_seachEffect02.html">검색효과 만들기02</a></li> 
            </ul>
        </nav>
    </header>
    <!-- //header -->
    <main id="main">
        <div class="document">
            <h2 class="t_tit">서치 이펙트</h2>
            <p class="t_desc2">
                자바스크립트를 이용해서 HTML과 CSS, JAVASCRIPT의 요소를 검색하는 효과 만들기입니다.
            </p>

            <hr>

            <h3 class="t_tit2">서치 이펙트 01</h3>
            <p class="t_box">indexOf( ) 메소드를 이용해서 HTML 태그를 검색하는 효과입니다.</p>  
            <div class="t_iframe" style="min-height: 1000px; padding-top: 0; margin-bottom: -120px;">
                <iframe src="https://mbynae.github.io/coding/javascript/effect/searchEffect01.html" frameborder="0"></iframe>
            </div>

            <hr>

            <p class="t_desc" style="margin-top: 35px;">
                서치 효과는 문자열에서 특정 문자의 위치를 찾고 숫자를 반환해주는 indexOf( ) 메소드를 사용해
                사용자의 검색 키워드와 일치하는 문자를 간추려서 보여주도록 합니다.
            </p>
            <p class="t_desc">
                indexOf( ) 메소드에 대한 자세한 설명은 <a href="https://piowm123.tistory.com/35" target="_blank" style="text-decoration: underline;">이 곳</a>에서 보실 수 있습니다. 
            </p>

            <!-- 1번 -->
            <h4 class="t_tit3" style="font-size: 18px; margin: 20px 0 15px 0;">1. 검색 목록 만들기</h4>
            <div class="t_code">
<pre><code>//CSS
&lt;style&gt;
    .search__wrap {
        max-width: 1400px;
        margin: 0 auto;
        border: 3px solid var(--htmlColor);
        border-radius: 20px;
        background-color: #f1f3f6;
        padding: 30px;
        text-align: center;
    }
    .search__wrap > span {
        font-size: 20px;
        margin-bottom: 20px;
        display: inline-block;
    }
    .search__wrap > h1 {
        font-family: 'Tmon';
        color: var(--htmlColor);
        font-size: 6vw;
        margin-bottom: 10px;
    }
    .search__box {
        margin-bottom: 20px;
    }
    .search__box label {
        position:absolute;
        clip:rect(0 0 0 0);
        width:1px;
        height:1px;
        margin:-1px;
        overflow:hidden
    }
    .search__box input {
        border: 2px solid var(--htmlColor);
        padding: 15px 40px;
        width: 70%;
        border-radius: 50px;
        font-size: 20px;
    }
    .search__list {}
    .search__list li {
        text-align: left;
        line-height: 1.7;
    }
&lt;style&gt;

//HTML
&lt;div class="search__wrap"&gt;
    &lt;span&gt;indexOf()를 이용하여 HTML 태그 검색하기&lt;/span&gt;
    &lt;h1&gt;HTML 태그 검색하기&lt;/h1&gt;
    &lt;div class="search__box"&gt;
        &lt;label for="search"&gt;검색하기&lt;/label&gt;
        &lt;input type="text" id="search" placeholder="HTML 태그를 입력해주세요!"&gt;
    &lt;/div&gt;
    &lt;div class="search__list"&gt;
        &lt;div class="html"&gt;
            &lt;ul&gt;
                &lt;li data-name="a"&gt;&lt;strong&gt;a&lt;/strong&gt; : a 태그는 다른 페이지 이동을 설정합니다.&lt;/li&gt;
                &lt;li data-name="abbr"&gt;&lt;strong&gt;abbr&lt;/strong&gt; : abbr 태그는 줄임말이나 머리글자를 표현하는데 사용합니다.&lt;/li&gt;
                &lt;li data-name="acronym"&gt;&lt;strong&gt;acronym&lt;/strong&gt; : acronym 태그는 줄임말이나 머리글자를 표현하는데 사용합니다.&lt;/li&gt;
                &lt;li data-name="address"&gt;&lt;strong&gt;address&lt;/strong&gt; : address 태그는 가까운 HTML 요소의 사람, 단체, 조직 등에 대한 연락처 정보를 나타냅니다.&lt;/li&gt;
                &lt;li data-name="applet"&gt;&lt;strong&gt;applet&lt;/strong&gt; : applet 태그는 자바 애플릿을 보이게 하는데 쓰입니다.&lt;/li&gt;
                &lt;li data-name="area"&gt;&lt;strong&gt;area&lt;/strong&gt; : area 태그는 이미지의 핫스팟 영역을 정의하고 하이퍼링크를 추가할 수 있습니다.&lt;/li&gt;
                &lt;li data-name="article"&gt;&lt;strong&gt;article&lt;/strong&gt; : article 태그는 문서, 페이지, 애플리케이션, 또는 사이트 안에서 독립적으로 구분해 배포하거나 재사용할 수 있는 구획을 나타냅니다.&lt;/li&gt;
                &lt;li data-name="audio"&gt;&lt;strong&gt;audio&lt;/strong&gt; : audio 태그는 문서에 소리 콘텐츠를 포함할 때 사용합니다.&lt;/li&gt;
                &lt;li data-name="b"&gt;&lt;strong&gt;b&lt;/strong&gt; : b 태그는 는 독자의 주의를 요소의 콘텐츠로 끌기 위한 용도로 사용합니다.&lt;/li&gt;
                &lt;li data-name="base"&gt;&lt;strong&gt;base&lt;/strong&gt; : base 태그는 문서 안의 모든 상대 URL이 사용할 기준 URL을 지정합니다. &lt;/li&gt;
                &lt;li data-name="bdi"&gt;&lt;strong&gt;bdi&lt;/strong&gt; : bdi 태그는 주위의 텍스트들과는 다른 방향으로 써지는 텍스트 영역을 정의할 때 사용합니다. &lt;/li&gt;
                &lt;li data-name="bdo"&gt;&lt;strong&gt;bdo&lt;/strong&gt; : bdo 태그는 현재 텍스트의 쓰기 방향을 덮어쓰고 다른 방향으로 렌더링 할 때 사용합니다. &lt;/li&gt;
                &lt;li data-name="big"&gt;&lt;strong&gt;big&lt;/strong&gt; : big 태그는 텍스트의 크기를 크게 설정합니다. &lt;/li&gt;
                &lt;li data-name="blockquote"&gt;&lt;strong&gt;blockquote&lt;/strong&gt; : blockquote 태그는 긴 문장의 인용문을 설정합니다. &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
            </div>
            <p class="t_desc">
                서치를 하기 위한 검색창은 <i>&lt;input&gt;</i>을 사용합니다. &lt;input&gt;은 사용자가 입력할 수 있는 창을 만들어주며,
                <i>&lt;label&gt;</i>을 사용해 HTML 작성규칙을 지킬 수 있습니다.<br>
                &lt;label&gt;의 for와 &lt;input&gt;의 id를 같게 해주면 둘을 일치시킬 수 있습니다.
            </p>
            <p class="t_desc">
                검색 목록 작성시 'data-'를 사용하는데, 'data-'는 특정한 데이터를 DOM 요소에 저장해줍니다.<br>
                따라서 위의 'data-name'은 name에 각각의 검색 목록 데이터가 들어가게 됩니다. 이 데이터는 스크립트를 이용해
                불러올 수 있습니다.
            </p>

            <!-- 2번 -->
            <h4 class="t_tit3" style="font-size: 18px; margin: 20px 0 15px 0;">2. 선택자</h4>
            <div class="t_code">
<pre><code>//선택자
&lt;script&gt;
    const searchBox = document.querySelector(".search__box input");           //검색 영역
    const searchList = document.querySelectorAll(".search__list ul li");      //목록 리스트
&lt;/script&gt;
</code></pre>
            </div>
            <p class="t_desc">
                작성한 검색 목록을 불러오기 위한 선택자를 작성합니다. searchList의 경우 여러개의 목록을 다뤄야 하기 때문에
                querySelectorAll을 사용합니다.
            </p>

            <!-- 3번 -->
            <h4 class="t_tit3" style="font-size: 18px; margin: 20px 0 15px 0;">3. 검색 데이터 저장</h4>
            <div class="t_code">
<pre><code>
&lt;script&gt;
    const searchBox = document.querySelector(".search__box input");           //검색 영역
    const searchList = document.querySelectorAll(".search__list ul li");      //목록 리스트

    searchBox.addEventListener("keyup", () => {
        const searchWord = searchBox.value;     //사용자가 입력한 키워드
    });
&lt;/script&gt;
</code></pre>
            </div>
            <p class="t_desc">
                다음은 검색창에 키워드를 적을시 해당 키워드의 데이터를 저장하는 단계입니다.
            </p>
            <p class="t_desc">
                addEventlistener을 사용해 입력시 이벤트가 발동하도록 합니다. 이 때 'value'는 searchBox 선택자,
                즉 검색한 데이터가 저장되는 곳 입니다.
            </p>
            <p class="t_desc">
                "keyup( )"은 키보드 입력이 끝난 후 발생되는 이벤트입니다. 이 외에 "keydown( )"은 키 입력 시 발생하며, 
                "keypress( )"는 키를 누르고 있는 동안 계속 발동합니다.
            </p>

            <!-- 4번 -->
            <h4 class="t_tit3" style="font-size: 18px; margin: 20px 0 15px 0;">4. 검색 데이터 출력</h4>
            <div class="t_code">
<pre><code>//CSS
&lt;style&gt;
    .search__list li.hide {
        display: none;
    }
&lt;/style&gt;

//JAVASCRIPT
&lt;script&gt;
    const searchBox = document.querySelector(".search__box input");           //검색 영역
    const searchList = document.querySelectorAll(".search__list ul li");      //목록 리스트

    searchBox.addEventListener("keyup", () => {
        const searchWord = searchBox.value;     //사용자가 입력한 키워드

        searchList.forEach(el => {
            const cssName = el.dataset.name;

            if(cssName.indexOf(searchWord)){
                el.classList.add("hide");
                } else {
                    el.classList.remove("hide");    //보임 (indexOf값이 0이 되는 값만 hide를 지워줌)
            }
        });
    });
&lt;/script&gt;
</code></pre>
            </div>
            <p class="t_desc">
                마지막으로 검색 데이터 키워드와 검색 목록의 값을 비교해서 선택적으로 출력해주는 작업입니다. 
            </p>
            <p class="t_desc">
                if문을 사용해서 키워드가 일치하지 않으면 hide class를 추가해 숨기고 일치한 것은 hide class를 제거해서 출력해주며,
                이 후 작업은 forEach문에 의해 모든 일치하는 데이터가 나올때까지 반복됩니다.<br>
                이 때, HTML에서 저장된 name값은 el.dataset.name으로 불러오게 됩니다.
            </p>
            <p class="t_desc">
                검색 키워드와 검색 목록의 값의 비교는 <i>indexOf( ) 메소드</i>를 사용합니다.<br>
                indexOf( )에 검색 키워드가 들어가면 우선 true 작업에 의해 hide class가 적용되서 모두 숨겨지게 되는데,
                이 때 cssName에 저장된 목록값과 저장된 검색 키워드가 일치하게 되면 0의 값이 반환이 되고 그렇게 false값이 출력되면서
                hide class가 제거됩니다.
            </p>
            <div class="t_link">
                <a href="https://github.com/mbynae/coding/blob/main/javascript/effect/searchEffect01.html" target="_blank">원본 소스 보기</a>
            </div>
                     
        </div>
    </main>
    <!-- //main -->
    <footer id="footer">
        <a href="mailto:piowm123@gmail.com">piowm123@gmail.com</a>
    </footer>
    <!-- //footer -->
    <script src="../../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
    </script>
</body>
</html>