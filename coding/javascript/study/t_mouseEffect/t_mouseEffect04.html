<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : 마우스이펙트 04</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/dracula.css">

    <style>
        .t_code {
            margin-bottom: 20px;
        }
        .t_underline {
            text-decoration: underline;
        }
        .t_codeBox {
            display: inline-block;
            border: 1px solid #f5f5f5;
            padding: 5px 10px;
            width: 100%;
            background-color: rgb(252, 213, 155);
            color: #fff;
            border-radius: 5px;
        }



        .mt20 {
            margin-top: 20px;
        }
        .mt30 {
            margin-top: 30px;
        }
        .mt40 {
            margin-top: 40px;
        }
        .mt160 {
            margin-top: 160px;
        }
    </style>
</head>
<body>
    <header id="header">
        <h1><a href="../index.html">Javascript</a></h1>
    </header>
    <!-- //header -->
    <main id="main">
        <div class="document">
            <div class="main_top">
                <h2 class="t_tit">마우스 이펙트</h2>
                <p class="t_desc2">
                    자바스크립트를 이용한 마우스 효과 만들기 입니다.
                </p>

                <hr>

                <h3 class="t_tit2">마우스 이펙트 04 - 이미지 효과</h3>
                <p class="t_box">마우스가 이미지 안에서 움직일 때 이미지가 살짝 커지며 이동하는 효과입니다.</p>  
                <div class="t_iframe" style="min-height: 800px; padding-top: 0; margin-bottom: -120px;">
                    <iframe src="https://mbynae.github.io/coding/javascript/effect/mouseEffect04.html" frameborder="0"></iframe>
                </div>
            </div>

            <hr style="margin-top: 180px;">

            <div class="main_content1" style="margin: 50px 0 15px 0;">
                <h4 class="t_tit3" style="font-size: 18px; margin: 25px 0 15px 0;">1. 이미지 세팅</h4>
                <p class="t_desc mt20" >
                    가운데에 이미지를 하나 넣고 마우스 커서가 될 원 하나를 만드는 간단한 작업입니다.
                </p>
                <div class="t_iframe" style="min-height: 800px; width: 100%; height: 200px; padding-top: 0; margin-bottom: -120px;">
                    <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FyUTTr3pTecOd5f2DVEGodj%2F%25EC%259D%25B4%25ED%258E%2599%25ED%258A%25B8-%25ED%259A%25A8%25EA%25B3%25BC%3Fnode-id%3D1273%253A35" allowfullscreen></iframe>
                </div>
                <div class="t_codeBox mt160">
                    <details>
                        <summary>소스보기</summary>
                        <div class="t_code">
<pre><code>▶ CSS 파트
/* mouseType */
#mouseType {}
.mouse__cursor {}
.mouse__wrap {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    color: #fff;
    overflow: hidden;
}
.mouse__wrap figure {
    width: 50vw;
    height: 50vh;
    position: relative;
    overflow: hidden;
    transition: transform 500ms ease;
    cursor: none;
}
.mouse__wrap figure:hover {
    transform: scale(1.025)
}
.mouse__wrap figure img {
    position: absolute;
    left: -5%;
    top: -5%;
    width: 110%;
    height: 110%;
    object-fit: cover;  /* 백그라운드 사이즈에 맞추는 기능*/
}
.mouse__wrap figure figcaption{
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    font-size: 20px;
    white-space: nowrap;
    line-height: 1.4;
    font-weight: 300;
}
.mouse__cursor {
    position: absolute;
    left: 0;
    top: 0;
    width: 20px;
    height: 20px;
    background: #fff;
    border-radius: 50%;
    z-index: 1000;
    user-select: none;
    pointer-events: none;
}

.mouse__info {
    position: absolute;
    left: 20px;
    bottom: 10px;
    font-size: 14px;
    line-height: 1.6;
    color: #fff;
}


▶ HTML 파트

&lt;section id="mouseType"&gt;
&lt;div class="mouse__wrap"&gt;
    &lt;div class="mouse__cursor"&gt;&lt;/div&gt;
    &lt;figure&gt;
        &lt;img src="../assets/img/effect_bg04-min.jpg" alt="이미지"&gt;

        &lt;figcaption&gt;
            &lt;p&gt;If you can dream it, you can do it&lt;/p&gt;
            &lt;p&gt;꿈을 꿀 수 있다면 할 수 있습니다.&lt;/p&gt;
        &lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;
&lt;/section&gt;

&lt;div class="mouse__info"&gt;
&lt;ul&gt;
    &lt;li&gt;mousePageX : &lt;span class="mousePageX"&gt;0&lt;/span&gt;px&lt;/li&gt;
    &lt;li&gt;mousePageY : &lt;span class="mousePageY"&gt;0&lt;/span&gt;px&lt;/li&gt;
    &lt;li&gt;centerPageX : &lt;span class="centerPageX"&gt;0&lt;/span&gt;px&lt;/li&gt;
    &lt;li&gt;centerPageY : &lt;span class="centerPageY"&gt;0&lt;/span&gt;px&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</code></pre>
                        </div>
                    </details>
                </div>
                <p class="t_desc mt20">
                    이미 한번씩 했던 간단한 작업이라 설명할게 없습니다. 이번엔 마우스 좌표값을 표시했습니다. 
                </p>
            </div>

            <hr>

            <div center="main_content2"style="margin: 50px 0 15px 0;">
                <h4 class="t_tit2" style="margin: 50px 0 15px 0;">2. 스크립트 파트</h4>
                <p class="t_desc mt20" >
                    커서를 원 중앙에 고정시킨 후 마우스 중앙 좌표값을 초기화 합니다.<br>
                    이러한 이유는 마우스가 이미지 내에서 이동 시 중앙을 중심으로 이동할 수 있도록 하기 위함입니다.
                </p>
                <div class="t_iframe" style="min-height: 800px; width: 100%; height: 200px; padding-top: 0; margin-bottom: -120px;">
                    <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FyUTTr3pTecOd5f2DVEGodj%2F%25EC%259D%25B4%25ED%258E%2599%25ED%258A%25B8-%25ED%259A%25A8%25EA%25B3%25BC%3Fnode-id%3D1475%253A5" allowfullscreen></iframe>
                </div>
                <div class="t_codeBox mt160">
                    <details>
                        <summary>소스보기</summary>
                        <div class="t_code">
<pre><code>▶ 자바스크립트 파트
const cursor = document.querySelector(".mouse__cursor")
const cursorRect = cursor.getBoundingClientRect();

document.querySelector(".mouse__wrap figure").addEventListener("mousemove", (e) => {
    //커서
    gsap.to(cursor, {
        duration: .2,
        left: e.pageX - cursorRect.width/2,
        top: e.pageY - cursorRect.height/2
    });

    // 마우스 좌표 값
    let mousePageX = e.pageX;
    let mousePageY = e.pageY;

    // 전체 가로 값
    // window.innerWidth;  //1920 : 브라우저 크기
    // window.outerWidth;  //1920 : 브라우저 크기(스크롤바 포함)
    // window.screen.width //1920 : 화면 크기

    // 마우스 좌표 값 가운데로 초기화
    // 전체 길이/2 - 마우스 좌표값 == 0
    let centerPageX = window.innerWidth/2 - mousePageX;
    let centerPageY = window.innerHeight/2 - mousePageY;

    // 이미지 움직이기
    const imgMove = document.querySelector(".mouse__wrap figure img");
    // imgMove.style.transform = "translate("+ centerPageX/20 +", "+ centerPageY/20 +")";

    gsap.to(imgMove, {
        duration: 0.2,
        x: centerPageX/20,
        y: centerPageY/20
    })

    // 출력
    document.querySelector(".mousePageX").textContent = mousePageX;
    document.querySelector(".mousePageY").textContent = mousePageY;
    document.querySelector(".centerPageX").textContent = centerPageX;
    document.querySelector(".centerPageY").textContent = centerPageY;
});
</code></pre>
                        </div>
                    </details>
                </div>
                <p class="t_desc mt20" >
                    mousePage로 마우스의 가로값과 세로 값을 구하고 window.innerWidth와 window.innerHeight로 브라우저의 크기를 구합니다.<br>
                    마우스 중앙 좌표값을 브라우저 절반값으로 뺄 시 마우스의 중앙 좌표값을 0으로 초기화가 가능합니다.
                </p>
                <p class="t_desc mt20" >
                    이 후 addEventListener("mousemove")를 통해 마우스가 이동할 때마다 이미지가 움직이도록 설정하면 이미지가 중앙을 중심으로 해서 이동하게 됩니다.
                </p>
            </div>

            <div class="t_link">
                <a href="https://github.com/mbynae/coding/blob/main/javascript/effect/mouseEffect04.html" target="_blank">원본 소스 보기</a>
            </div>
                     
        </div>
    </main>
    <!-- //main -->
    <footer id="footer">
        <a href="mailto:piowm123@gmail.com">piowm123@gmail.com</a>
    </footer>
    <!-- //footer -->
    <script src="../../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
    </script>
</body>
</html>